<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<title>welcome</title>

	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">


<!--font,icon,js-->
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400&display=swap" rel="stylesheet">
	<script src="/https://code.jquery.com/jquery-3.2.1.min.js"></script>
<!--font,icon,js-->

<!--css-->
	<link th:href="@{/css/style.css}" href="/static/css/style.css" rel="stylesheet">
	<link th:href="@{/css/Boardcss.css}" type="text/css" rel="stylesheet"/>
<!--css-->


</head>

<body>
	<header>
	<menu class="menu">
		<button onclick="goToScroll('a')" class="menu__item active" style="--bgColorItem: #ff8c00;" >
			<svg class="icon" viewBox="0 0 24 24">
				<path d="M3.8,6.6h16.4"/>
				<path d="M20.2,12.1H3.8"/>
				<path d="M3.8,17.5h16.4"/>
			</svg>
		</button>
		<button onclick="goToScroll('b')" class="menu__item" style="--bgColorItem: #4343f5;" >
			<svg class="icon" viewBox="0 0 24 24" >
				<path  d="M3.4,11.9l8.8,4.4l8.4-4.4"/>
				<path  d="M3.4,16.2l8.8,4.5l8.4-4.5"/>
				<path  d="M3.7,7.8l8.6-4.5l8,4.5l-8,4.3L3.7,7.8z"/>
			</svg>
		</button>
		<button onclick="goToScroll('c')" class="menu__item" style="--bgColorItem: #f3dca6;" >
			<svg class="icon" viewBox="0 0 24 24" >
				<path  d="M5.1,3.9h13.9c0.6,0,1.2,0.5,1.2,1.2v13.9c0,0.6-0.5,1.2-1.2,1.2H5.1c-0.6,0-1.2-0.5-1.2-1.2V5.1
          C3.9,4.4,4.4,3.9,5.1,3.9z"/>
				<path  d="M4.2,9.3h15.6"/>
				<path  d="M9.1,9.5v10.3"/>
			</svg>
		</button>
		<div class="menu__border"></div>
	</menu>
	<div class="svg-container">
		<svg viewBox="0 0 202.9 45.5" >
			<clipPath id="menu" clipPathUnits="objectBoundingBox" transform="scale(0.0049285362247413 0.021978021978022)">
				<path  d="M6.7,45.5c5.7,0.1,14.1-0.4,23.3-4c5.7-2.3,9.9-5,18.1-10.5c10.7-7.1,11.8-9.2,20.6-14.3c5-2.9,9.2-5.2,15.2-7
          c7.1-2.1,13.3-2.3,17.6-2.1c4.2-0.2,10.5,0.1,17.6,2.1c6.1,1.8,10.2,4.1,15.2,7c8.8,5,9.9,7.1,20.6,14.3c8.3,5.5,12.4,8.2,18.1,10.5
          c9.2,3.6,17.6,4.2,23.3,4H6.7z"/>
			</clipPath>
		</svg>
	</div>
</header>
 <!-- SECTION 0 PRODUCTS SLIDE START-->
	<div class="a">
		<section class="sec0">
			<div class="a-top">
				<h1>모집중인 프로젝트</h1>
			</div>
			<ul class="pages"></ul>
		</div>

		<script>
			$("#rolling").rolling(1200, 600, {autoscroll: 1, delay: 1500});
		</script>
	</section>
</div>

<!-- SECTION 0 PRODUCTS SLIDE END-->


<!-- SECTION 1 LOGIN,JOIN START -->
<div class="b">
	<section class="sec1">
		<div class="mem">

			<div class="login">
				<div class="login-wrapper">

					<form method="post" action="/member/login" id="login-form">
						<input type="text" name="loginId" placeholder="Email" id="loginId">
						<input type="password" name="password" placeholder="Password">
						<label for="remember-check">
							<input type="checkbox" id="remember-check">아이디 저장하기
						</label>
						<input id="submitId" type="submit" value="Login">
					</form>
					<ul>
						<li> 이메일 찾기</li>
						<li><span>|</span>비밀번호 찾기</li>

					</ul>
					<div class="api"><img src="/images/api.jpg" alt=""></div>
				</div>

				<div class="a-bottom">
					<h1>역대 프로젝트</h1>

			</div>
		</section>
	</div>

 <!-- SECTION 0 PRODUCTS SLIDE END-->



 <!-- SECTION 1 LOGIN,JOIN START -->

 <div class="b">
<!-----------로그인---------->
		<section class="sec1">
			<div class="b-l">
				<form method="post" action = "/login" id="login-form">
					<table>
						<tr>
							<td>
								<label>
									<input type="text" name="userName" placeholder="ID">
								</label>
							</td>
						</tr>
						<tr>
							<td>
								<label>
									<input type="password" name="userPassword" placeholder="Password">
								</label>
							</td>
						</tr>
						<tr>
							<td>
								<label for="remember-check">
									<input type="checkbox" id="remember-check">아이디 저장하기
								</label>
							</td>
						</tr>
						<tr>
							<td>
								<button type="submit" value="Login">Login</button>
								<h4> <a href="">아이디 찾기</a> <span>|</span> <a href="">비밀번호 찾기</a></h4>
							</td>
						</tr>
					</table>
				</form>
			</div>
			<!--------------------회원가입----------------->
			<div class="b-r">
				<form  method = "post" id="join-form">
					<table>
						<tr>
							<td>
								<label for=useId>
									<input id="useId" name="loginId" type="text" placeholder="회원가입 아이디">
								</label>
							</td>
						</tr>

						<tr>
							<td>
								<label for=pw>
									<input id="pw" name="password" type="password" placeholder="비밀번호">
								</label>
							</td>
						</tr>
						<tr>
							<td>
								<label for=name>
									<input id="nick" name="nickname" type="text" placeholder="닉네임">
								</label>
							</td>
						</tr>
						<tr>
							<td>
								<button type="button" onclick="openModal()">중복체크</button>
							</td>

							<td>
								<button id="join" type="submit" value="join">join</button>
							</td>
						</tr>
					</table>
				</form>
			</div>
			<div id="modal" class="modalWrap">
				<div class="modalContent">
					<form id="idCheck" method="post" onsubmit="return false">
						<input type="text" name="loginIdCheck" placeholder="사용하실 아이디를 입력해주세요.">
						<input type="submit">
						<button type="button" onclick="closeModal()">X</button>
					</form>
				</div>
			</div>
		</section>
	</div>


<!-- SECTION1 LOGIN,JOIN END -->


<!-- SECTION 2 CARDS STARTS -->


<!-- SECTION 2 CARDS END -->


<!-- SECTION3 MATCHING START -->
	<div class="c">
		<section class="sec2">

			<div class="container">
				<table class="table table-striped" border="1">
					<thead>
						<tr>
							<th>no</th>
							<th>카테고리</th>
							<th>스택</th>
							<th>제목</th>
							<th>작성자</th>
							<th>작성일</th>
							<th>조회수</th>
						</tr>
					</thead>
					<div class="searchWrite">
						<div class="search">
							<form action="/board/list" method="get" >
								<select name="type" >
									<option value="S">stack</option>
									<option value="N">title</option>
								</select>
								<input type="text" name="search" />
								<input type="submit" value="검색" />
							</form>
						</div>
						<label class="write-label"><a href="write">글쓰기</a>
						</label>

					</div>

					<tbody>
						<tr th:each="board : ${boardList}">
							<td>
								<a
										th:href="@{/board/detail(boardNum=${board.boardNum})}"
										th:text="${board.boardNum}"
								></a>
							</td>
							<td th:text="${board.category}"></td>
							<td>
								<ul th:each="aa : ${board.stack}" >
									<li>[[${aa}]]</li>
								</ul>
							</td>
							<td ><a  th:href="@{/board/detail(boardNum=${board.boardNum})}" th:text="${board.title}"></a></td>
							<td th:text="${board.memberNum}"></td>
							<td th:text="${board.date}"></td>
							<td th:text="${board.startDate}"></td>
						</tr>
					</tbody>

				</table>
				<div class="board-button">
					<button type="button" onclick="location.href='/board/list?category=recruit'">recruit임시</button>
					<button type="button" onclick="location.href='/board/list?category=apply'">apply임시</button>
					<button type="button" onclick="location.href='/board/list'">전체임시</button>
					<button type="button" onclick="location.href='/board/page'">페이지임시</button>

				</div>
				<div class="text-center">
					<ul class="pagination">
						<li><a href="#">1</a></li>
						<li><a href="#">2</a></li>
						<li><a href="#">3</a></li>
						<li><a href="#">4</a></li>
						<li><a href="#">5</a></li>
					</ul>
				</div>
			</div>
		</section>
	</div>
<!-- SECTION3 MATCHING END -->




<script th:inline="javascript" charset='UTF-8' defer>

	/*------로그인인 밑 회원가입 부분----------*/
		let modal = document.querySelector("#modal");
		function openModal(){
		modal.style.display="flex";
	}
		function closeModal(){
		modal.style.display = "none";
	}

	<!--회원가입 아이디 중복체크 ajax-->

	$('#idCheck').submit(function(event) {
		event.preventDefault();
		let queryString = $('#idCheck').serialize();
		$.ajax({
			type: 'post',
			url: '/home',
			data: queryString,
			success: function (censorship) {
				let availableId = censorship.loginIdCheck;
				$('#useId').val(availableId);
				alert(censorship.idCheck);

				/* 사용가능한 아이디 일시 바로 적용*/
				if(censorship.idCheck == '사용가능한 아이디 입니다.'){
	                $('#modal').css('display', 'none');
				}
			},
			error: function (error) {
				alert("에러");
			}

		})
	})
	$('#join-form').submit(function(event) {
		event.preventDefault();
		let queryString = $('#join-form').serialize();
		$.ajax({
			type: 'post',
            url: '/home',
            data: queryString,
            success: function (join) {
				alert('회원가입 되셨습니다.')
				$('#useId').val("");
				$('#pw').val('');
				$('#nickname').val('');
			}

		})
	})
</script>

<script type="text/javascript">

	$('#login-form').submit(function(e){
		if($('#remember-check').is(":checked")==true){
			localStorage.setItem('loginId', $('#loginId').val());
		}
		
	});
	
	var loginId= document.querySelector("#loginId");
	var storageCheck= localStorage.getItem('loginId');
	console.log(loginId);
	
		if(!storageCheck){
		loginId.value="";
		}else{
		loginId.value=storageCheck;
	}
	
	
/* 	$(document).ready(function(){
		$('#loginId').val()=localStorage.getItem('loginId');
	}); */


</script>
<script th:inline="javascript" defer>


		"use strict";
		const body = document.body;
		const bgColorsBody = ["#ffb457", "#ff96bd", "#9999fb", "#ffe797", "#cffff1"];
		const menu = body.querySelector(".menu");
		const menuItems = menu.querySelectorAll(".menu__item");
		const menuBorder = menu.querySelector(".menu__border");
		let activeItem = menu.querySelector(".active");

		function clickItem(item, home) {

			menu.style.removeProperty("--timeOut");

			if (activeItem == item) return;

			if (activeItem) {
				activeItem.classList.remove("active");
			}


			item.classList.add("active");
			body.style.backgroundColor = bgColorsBody[home];
			activeItem = item;
			offsetMenuBorder(activeItem, menuBorder);


		}

		function offsetMenuBorder(element, menuBorder) {

			const offsetActiveItem = element.getBoundingClientRect();
			const left = Math.floor(offsetActiveItem.left - menu.offsetLeft - (menuBorder.offsetWidth  - offsetActiveItem.width) / 2) +  "px";
			menuBorder.style.transform = `translate3d(${left}, 0 , 0)`;

		}

		offsetMenuBorder(activeItem, menuBorder);

		menuItems.forEach((item, home) => {

			item.addEventListener("click", () => clickItem(item, home));

		})

		window.addEventListener("resize", () => {
			offsetMenuBorder(activeItem, menuBorder);
			menu.style.setProperty("--timeOut", "none");
		});





		function goToScroll(name) {
			var location = document.querySelector("." + name).offsetTop;
			window.scrollTo({top: location, behavior: 'smooth'});
		}
	</script>
</body>
</html>